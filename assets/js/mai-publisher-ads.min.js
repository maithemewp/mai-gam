if(window.googletag=window.googletag||{},googletag.cmd=googletag.cmd||[],function(e,t,a,g,s,o,i){function n(a,g){t[e]._Q.push([a,g])}t[e]||(t[e]={init:function(){n("i",arguments)},fetchBids:function(){n("f",arguments)},setDisplayBids:function(){},targetingKeys:function(){return[]},_Q:[]},(o=a.createElement(g)).async=!0,o.src="//c.amazon-adsystem.com/aax2/apstag.js",(i=a.getElementsByTagName(g)[0]).parentNode.insertBefore(o,i))}("apstag",window,document,"script"),window.googletag&&googletag.apiReady){const e=maiPubAdsVars.ads,t="refresh",a="true",g=30;googletag.cmd.push((()=>{const g=maiPubAdsVars.gamBase,s=[];apstag.init({pubID:"79166f25-5776-4c3e-9537-abad9a584b43",adServer:"googletag"}),Object.keys(e).forEach((o=>{const i=googletag.defineSlot(g+o,e[o].sizes,"mai-ad-"+o);s.push({slotID:"mai-ad-"+o,slotName:g+o,sizes:e[o].sizes}),i.setTargeting(t,a),e[o].targeting&&Object.keys(e[o].targeting).forEach((t=>{i.setTargeting(t,e[o].targeting[t])})),i.addService(googletag.pubads()),i.defineSizeMapping(googletag.sizeMapping().addSize([1024,768],e[o].sizesDesktop).addSize([728,480],e[o].sizesTablet).addSize([0,0],e[o].sizesMobile).build())})),maiPubAdsVars.targeting&&Object.keys(maiPubAdsVars.targeting).forEach((e=>{googletag.pubads().setTargeting(e,maiPubAdsVars.targeting[e].toString())})),googletag.pubads().enableLazyLoad({fetchMarginPercent:200,renderMarginPercent:150}),googletag.pubads().setForceSafeFrame(!0),googletag.pubads().setCentering(!0),googletag.pubads().disableInitialLoad(),googletag.pubads().enableSingleRequest(),googletag.enableServices(),apstag.fetchBids({slots:s,timeout:1e3},(function(e){googletag.cmd.push((function(){apstag.setDisplayBids(),googletag.pubads().refresh()}))}))}));const s={},o={},i={};googletag.pubads().addEventListener("impressionViewable",(function(e){const o=e.slot,n=o.getSlotElementId();o.getTargeting(t).indexOf(a)<0||(s[n]=Date.now(),i[n]=setTimeout((()=>{googletag.pubads().refresh([o])}),1e3*g))})),googletag.pubads().addEventListener("slotVisibilityChanged",(e=>{const n=e.slot,d=n.getSlotElementId(),r=e.inViewPercentage>20;if(!(n.getTargeting(t).indexOf(a)<0)){if(r&&!o[d])o[d]=!0;else{if(r||!o[d])return;o[d]=!1}o[d]?void 0===s[d]||s[d]&&Date.now()-s[d]<1e3*g||googletag.pubads().refresh([n]):clearTimeout(i[d])}}))}