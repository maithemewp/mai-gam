if(window.googletag=window.googletag||{},googletag.cmd=googletag.cmd||[],window.googletag&&googletag.apiReady){const e=maiPubAdsVars.ads,g="refresh",t="true",a=30;googletag.cmd.push((()=>{const a=maiPubAdsVars.gamBase;Object.keys(e).forEach((o=>{const i=googletag.defineSlot(a+o,e[o].sizes,"mai-ad-"+o);i.setTargeting(g,t),e[o].targeting&&Object.keys(e[o].targeting).forEach((g=>{i.setTargeting(g,e[o].targeting[g])})),i.addService(googletag.pubads()),i.defineSizeMapping(googletag.sizeMapping().addSize([1024,768],e[o].sizesDesktop).addSize([728,480],e[o].sizesTablet).addSize([0,0],e[o].sizesMobile).build())})),maiPubAdsVars.targeting&&Object.keys(maiPubAdsVars.targeting).forEach((e=>{googletag.pubads().setTargeting(e,maiPubAdsVars.targeting[e].toString())})),googletag.pubads().enableLazyLoad({fetchMarginPercent:200,renderMarginPercent:150}),googletag.pubads().setForceSafeFrame(!0),googletag.pubads().setCentering(!0),googletag.pubads().enableSingleRequest(),googletag.enableServices()}));const o={},i={},s={};googletag.pubads().addEventListener("impressionViewable",(function(e){const i=e.slot,n=i.getSlotElementId();i.getTargeting(g).indexOf(t)<0||(o[n]=Date.now(),s[n]=setTimeout((()=>{googletag.pubads().refresh([i])}),1e3*a))})),googletag.pubads().addEventListener("slotVisibilityChanged",(e=>{const n=e.slot,d=n.getSlotElementId(),r=e.inViewPercentage>20;if(!(n.getTargeting(g).indexOf(t)<0)){if(r&&!i[d])i[d]=!0;else{if(r||!i[d])return;i[d]=!1}i[d]?void 0===o[d]||o[d]&&Date.now()-o[d]<1e3*a||googletag.pubads().refresh([n]):clearTimeout(s[d])}}))}