window.googletag=window.googletag||{},googletag.cmd=googletag.cmd||[];const ads=maiPubAdsVars.ads,adSlotIds=[],adSlots=[],refreshKey="refresh",refreshValue=!0,refreshTime=30;googletag.cmd.push((()=>{if(!Object.keys(ads).length)return;const e=maiPubAdsVars.gamBase,a=[];Object.keys(ads).forEach((a=>{const s=e+ads[a].id,t=googletag.defineSlot(s,ads[a].sizes,"mai-ad-"+a);adSlotIds.push(s),adSlots.push(t),t.setTargeting("refresh",true),ads[a].targets&&Object.keys(ads[a].targets).forEach((e=>{t.setTargeting(e,ads[a].targets[e])})),ads[a].splitTest&&"rand"===ads[a].splitTest&&t.setTargeting("st",Math.floor(100*Math.random())),t.addService(googletag.pubads()),t.defineSizeMapping(googletag.sizeMapping().addSize([1024,768],ads[a].sizesDesktop).addSize([728,480],ads[a].sizesTablet).addSize([0,0],ads[a].sizesMobile).build())})),maiPubAdsVars.targets&&Object.keys(maiPubAdsVars.targets).forEach((e=>{googletag.pubads().setTargeting(e,maiPubAdsVars.targets[e].toString())})),googletag.pubads().enableLazyLoad({fetchMarginPercent:200,renderMarginPercent:150,mobileScaling:2}),googletag.pubads().setCentering(!0),googletag.pubads().disableInitialLoad(),googletag.pubads().enableSingleRequest();const s={},t={},i={};googletag.pubads().addEventListener("impressionViewable",(function(e){const a=e.slot,t=a.getSlotElementId();adSlotIds.includes(a.getAdUnitPath())&&Boolean(a.getTargeting("refresh").shift())&&(s[t]=Date.now(),i[t]=setTimeout((()=>{maiPubAdsVars.amazonUAM&&apstag.setDisplayBids(),googletag.pubads().refresh([a])}),3e4))})),googletag.pubads().addEventListener("slotVisibilityChanged",(e=>{const a=e.slot,o=a.getSlotElementId(),g=e.inViewPercentage>20;if(adSlotIds.includes(a.getAdUnitPath())&&Boolean(a.getTargeting("refresh").shift())){if(g&&!t[o])t[o]=!0;else{if(g||!t[o])return;t[o]=!1}t[o]?void 0===s[o]||s[o]&&Date.now()-s[o]<3e4||(maiPubAdsVars.amazonUAM&&apstag.setDisplayBids(),googletag.pubads().refresh([a])):clearTimeout(i[o])}})),googletag.enableServices(),maiPubAdsVars.amazonUAM?(!function(e,a,s,t,i,o,g){function d(s,t){a[e]._Q.push([s,t])}a[e]||(a[e]={init:function(){d("i",arguments)},fetchBids:function(){d("f",arguments)},setDisplayBids:function(){},targetingKeys:function(){return[]},_Q:[]},(o=s.createElement(t)).async=!0,o.src="//c.amazon-adsystem.com/aax2/apstag.js",(g=s.getElementsByTagName(t)[0]).parentNode.insertBefore(o,g))}("apstag",window,document,"script"),apstag.init({pubID:"79166f25-5776-4c3e-9537-abad9a584b43",adServer:"googletag",schain:{complete:1,ver:"1.0",nodes:[{asi:"bizbudding.com",sid:maiPubAdsVars.sellersId,hp:1,name:maiPubAdsVars.sellersName,domain:maiPubAdsVars.domain}]}}),Object.keys(ads).forEach((s=>{1===ads[s].sizes.length&&"fluid"===ads[s].sizes[0]||a.push({slotID:"mai-ad-"+s,slotName:e+ads[s].id,sizes:ads[s].sizes})})),apstag.fetchBids({slots:a,timeout:2e3,params:{adRefresh:"1"}},(function(e){googletag.cmd.push((function(){apstag.setDisplayBids(),googletag.pubads().refresh(adSlots)}))}))):googletag.pubads().refresh(adSlots)}));