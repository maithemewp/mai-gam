function setupAds(){const e=maiPubAdsVars.ads,a=[],s=[],t="refresh";googletag.cmd.push((()=>{if(!Object.keys(e).length)return;const g=maiPubAdsVars.gamBase,i=[];Object.keys(e).forEach((i=>{const o=g+e[i].id,n=googletag.defineSlot(o,e[i].sizes,"mai-ad-"+i);a.push(o),s.push(n),n.setTargeting(t,true),e[i].targets&&Object.keys(e[i].targets).forEach((a=>{n.setTargeting(a,e[i].targets[a])})),e[i].splitTest&&"rand"===e[i].splitTest&&n.setTargeting("st",Math.floor(100*Math.random())),n.addService(googletag.pubads()),n.defineSizeMapping(googletag.sizeMapping().addSize([1024,768],e[i].sizesDesktop).addSize([728,480],e[i].sizesTablet).addSize([0,0],e[i].sizesMobile).build())})),maiPubAdsVars.targets&&Object.keys(maiPubAdsVars.targets).forEach((e=>{googletag.pubads().setTargeting(e,maiPubAdsVars.targets[e].toString())})),googletag.pubads().enableLazyLoad({fetchMarginPercent:200,renderMarginPercent:150}),googletag.pubads().setCentering(!0),googletag.pubads().disableInitialLoad(),googletag.pubads().enableSingleRequest(),googletag.enableServices(),maiPubAdsVars.amazonUAM?(!function(e,a,s,t,g,i,o){function n(s,t){a[e]._Q.push([s,t])}a[e]||(a[e]={init:function(){n("i",arguments)},fetchBids:function(){n("f",arguments)},setDisplayBids:function(){},targetingKeys:function(){return[]},_Q:[]},(i=s.createElement(t)).async=!0,i.src="//c.amazon-adsystem.com/aax2/apstag.js",(o=s.getElementsByTagName(t)[0]).parentNode.insertBefore(i,o))}("apstag",window,document,"script"),apstag.init({pubID:"79166f25-5776-4c3e-9537-abad9a584b43",adServer:"googletag",schain:{complete:1,ver:"1.0",nodes:[{asi:"bizbudding.com",sid:maiPubAdsVars.sellersId,hp:1,name:maiPubAdsVars.sellersName,domain:maiPubAdsVars.domain}]}}),Object.keys(e).forEach((a=>{1===e[a].sizes.length&&"fluid"===e[a].sizes[0]||i.push({slotID:"mai-ad-"+a,slotName:g+e[a].id,sizes:e[a].sizes})})),apstag.fetchBids({slots:i,timeout:2e3,params:{adRefresh:"1"}},(function(e){googletag.cmd.push((function(){apstag.setDisplayBids(),googletag.pubads().refresh(s)}))}))):googletag.pubads().refresh(s)}));const g={},i={},o={};googletag.pubads().addEventListener("impressionViewable",(function(e){const s=e.slot,i=s.getSlotElementId();a.includes(s.getAdUnitPath())&&Boolean(s.getTargeting(t).shift())&&(g[i]=Date.now(),o[i]=setTimeout((()=>{maiPubAdsVars.amazonUAM&&apstag.setDisplayBids(),googletag.pubads().refresh([s])}),3e4))})),googletag.pubads().addEventListener("slotVisibilityChanged",(e=>{const s=e.slot,n=s.getSlotElementId(),d=e.inViewPercentage>20;if(a.includes(s.getAdUnitPath())&&Boolean(s.getTargeting(t).shift())){if(d&&!i[n])i[n]=!0;else{if(d||!i[n])return;i[n]=!1}i[n]?void 0===g[n]||g[n]&&Date.now()-g[n]<3e4||(maiPubAdsVars.amazonUAM&&apstag.setDisplayBids(),googletag.pubads().refresh([s])):clearTimeout(o[n])}}))}window.googletag=window.googletag||{},googletag.cmd=googletag.cmd||[],window.googletag&&googletag.apiReady?setupAds():googletag.cmd.push(setupAds);